<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="semantic-ui-css/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="semantic-ui-css/semantic.css">
    <link rel="stylesheet" href="css/searchCity.css">
    <link rel="stylesheet" href="css/indexCustom.css">
    <!--<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">-->

    <!-- Ignite UI Required Combined CSS Files -->
    <link href="http://cdn-na.infragistics.com/igniteui/2016.2/latest/css/themes/infragistics/infragistics.theme.css" rel="stylesheet" />
    <link href="http://cdn-na.infragistics.com/igniteui/2016.2/latest/css/structure/infragistics.css" rel="stylesheet" />

    <script src="http://ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.8.3.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="http://code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>


    <script src="semantic-ui-css/semantic.min.js"></script>
    <script src="semantic-ui-css/semantic.js"></script>
    <script src="js/locations.js"></script>
    <script src="js/estates.js"></script>
    <script src="js/cityLocations.js"></script>
    <script src="js/heatmapLocations.js"></script>



    <script src="js/nouislider.min.js"></script>
    <link href="css/nouislider.min.css" rel="stylesheet">
    <script src="jsons/CustomLayer.geo.json"></script>
      <script src="jsons/Iasigeo.json"></script>
      <script src="jsons/NewYorkgeo.json"></script>
      <script src="jsons/Londongeo.json"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.jquery.min.js"></script>
    <link href="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.min.css" rel="stylesheet"/>


    <link rel="icon" type="image/png" href="images/place-finder.png">
    <title>PerF</title>
</head>
<body style="background-color: lightblue;">

    <div class="ui massive blue menu">
      <a  href="homePage.html">
          <img class="ui mini image" style="margin-left: 550%; top:5px;" src="images/place-finder.png">
      </a>
      <a>
        <img class="ui medium image" style="margin-left: 70%;" src="images/logo.png">
      </a>
      <div id="addProperty">
        <form method="GET" action="/add/property">
        <button class="ui inverted blue button" >Add property</button>
        </form>
      </div>
      <div id="signup">
        <button class="ui inverted blue button" onclick="document.getElementById('signupButton').style.display='block'">Sign up</button>
      </div>
      <div id="login">
        <button class="ui inverted blue button" onclick="document.getElementById('loginButton').style.display='block'">Log in</button>
      </div>
    </div>

<div style=" height: 100%;margin-left:10%; margin-top:0%; width:80%;height:93%; background:#f1f1f2;">
    <div id="menuBar" class="ui massive borderless blue inverted menu" style="position:absolute;">
        <form style="height:25%;width:120px; margin-top:0.5%;margin-bottom:0.5%; margin-left:0.5%;">
          <select  name="city" id="city" class="ui icon dropdown button" onchange="getEstatesByFilter()" style="width:100%;height:80%; background-color:white;">
            <option value="0" disabled selected>City</option>
            <option value="london">London</option>
            <option value="bucuresti">Bucuresti</option>
            <option value="new york">New York</option>
            <option value="iasi">Iasi</option>
          </select>
         </form>

       <form style="height:25%;width:100px; margin-top:0.5%;margin-bottom:0.5%; margin-left:0.5%;">
         <select  name="transType" id="transType" class="ui icon dropdown button" onchange="getEstatesByFilter()" style="width:100%;height:80%; background-color:white;">
           <option value="0" disabled selected>Transaction type</option>
           <option value="rent">Rent</option>
           <option value="sale">Sale</option>
         </select>
        </form>



         <form style="height:25%;width:105px; margin-top:0.5%;margin-bottom:0.5%; margin-left:0.5%;">
        		<select name="square" id="square" class="ui icon dropdown button" onchange="getEstatesByFilter()" style="width:100%;height:80%; background-color:white;">
        			<option value="0" disabled selected>Square ft.</option>
        		    <option value="29"> < 30 mp</option>
        		    <option value="30"> 30 mp - 50 mp</option>
                    <option value="50"> 50 mp - 70 mp</option>
                    <option value="70"> 70 mp - 90 mp</option>
                    <option value="90"> 90 mp - 120 mp</option>
        		    <option value="120"> 120 mp - 150 mp</option>
                    <option value="150"> 150 mp - 200 mp</option>
                    <option value="200"> > 200 mp</option>
        		</select>
          </form>

  		 <form style="height:25%;width:105px; margin-top:0.5%;margin-bottom:0.5%; margin-left:0.5%;">
  			<select name="type" id="type" class="ui icon dropdown button" onchange="getEstatesByFilter()" style="width:100%;height:80%; background-color:white;">
  			  <option value="0" disabled selected>Type</option>
  			  <option value="house">Houses</option>
  			  <option value="appartment">Appartaments</option>
          <option value="space">Commercial spaces</option>
  			</select>
      </form>


         <form style="height:25%;width:110px; margin-top:0.5%;margin-bottom:0.5%; margin-left:0.5%;">
    			<select name="price" id="minPrice" class="ui icon dropdown button" required onchange="getEstatesByFilter()" style="width:100%;height:80%; background-color:white;">
            <option value="0" disabled selected>Min price</option>
    			  <option value="100">€100</option>
            <option value="200">€200</option>
            <option value="300">€300</option>
            <option value="400">€400</option>
            <option value="500">€500</option>
            <option value="600">€600</option>
            <option value="700">€700</option>
            <option value="800">€800</option>
            <option value="900">€900</option>
            <option value="1000">€1000</option>
            <option value="1100">€1100</option>
            <option value="1200">€1200</option>
            <option value="1300">€1300</option>
            <option value="1400">€1400</option>
            <option value="1500">€1500</option>
            <option value="1700">€1700</option>
            <option value="1900">€1900</option>
            <option value="2000">€2000</option>
            <option value="2500">€2500</option>
            <option value="3000">€3000</option>
    			</select>
        </form>

        <form style="height:25%;width:110px; margin-top:0.5%;margin-bottom:0.5%; margin-left:0.5%;">
         <select name="price" id="maxPrice" class="ui icon dropdown button" onchange="getEstatesByFilter()" style="width:100%;height:80%; background-color:white;">
           <option value="0" disabled selected>Max price</option>
           <option value="300">€300</option>
           <option value="400">€400</option>
           <option value="500">€500</option>
           <option value="600">€600</option>
           <option value="700">€700</option>
           <option value="800">€800</option>
           <option value="900">€900</option>
           <option value="1000">€1000</option>
           <option value="1100">€1100</option>
           <option value="1200">€1200</option>
           <option value="1300">€1300</option>
           <option value="1400">€1400</option>
           <option value="1500">€1500</option>
           <option value="1700">€1700</option>
           <option value="1900">€1900</option>
           <option value="2000">€2000</option>
           <option value="2500">€2500</option>
           <option value="3000">€3000</option>
           <option value="3100">€3000 +</option>
         </select>
       </form>

         <form style="height:25%;width:175px; margin-top:0.5%;margin-bottom:0.5%; margin-left:0.5%;">
    			<select name="year" id="year" class="ui icon dropdown button" onchange="getEstatesByFilter()" style="width:100%;height:80%; background-color:white;">
            <option value="0" disabled selected>Year of construction</option>
    			  <option value="1800">1800 - 1977</option>
            <option value="1977">1977 - 1990</option>
            <option value="1990">1990 - 2000 </option>
            <option value="2000">2000 - 2017</option>
    			</select>
        </form>

        <div class="item" style=" margin-left:20%;display:none;">
            <button class="ui inverted white button" onclick="goToPagination()">Visualise real_estate pagination</button>
        </div>
        <script>
            function goToPagination(){
                window.location = "/paginate";
            }
        </script>
    </div>

    <div class="ui two column grid" style="position:absolute;margin-top:3.5%;margin-right:0%;width:100%;">
          <div class="column" style="width:20%;margin-left:2%;">
            <div class="item">
              <h3 class="ui left aligned header">
                Number Of properties :
              </h3>
            </div>
          </div>
          <div class="column" style="width:100%;margin-right:10%;margin-top:0%;">
              <div class="item">
                <div class="ui raised padded segment" style="margin-left:31%;margin-right:10%; margin-top:-4%; height:60px;">
                  <div class="ui image label" style="background-color: white;">
                    <div class="ui checkbox">
                      <input id='trafficLayer' name="trafficLayer" type="checkbox" onChange={changeOverlay('trafficLayer')} unchecked={}>
                      <label>Traffic layer</label>
                    </div>
                  </div>
                  <div class="ui image label" style="background-color: white;">
                    <div class="ui  checkbox">
                      <input id='noiseLayer' name="noiseLayer" type="checkbox" onChange={changeOverlay('noiseLayer')} unchecked={}>
                      <label>Noise</label>
                    </div>
                  </div>
                  <div class="ui image label" style="background-color: white;">
                    <div class="ui  checkbox">
                      <input id='pollutionLayer' name="pollutionLayer" type="checkbox" onChange={changeOverlay('pollutionLayer')} unchecked={}>
                      <label>Pollution</label>
                    </div>
                  </div>
                  <div class="ui image label" style="background-color: white;">
                    <div class="ui  checkbox">
                      <input id='congestionLayer' name="congestionLayer" type="checkbox" onChange={changeOverlay('congestionLayer')} unchecked={}>
                      <label>Level of congestion</label>
                    </div>
                  </div>
                  <div class="ui image label" style="background-color: white;">
                    <div class="ui  checkbox">
                      <input id="schools" name="schools" type="checkbox" onChange={changeOverlay('schools')} unchecked={}>
                      <label>Schools nearby</label>
                    </div>
                  </div>
                  <div class="ui image label" style="background-color: white;">
                    <div class="ui  checkbox">
                      <input id='transitLayer' name="transitLayer" type="checkbox" onChange={changeOverlay('transitLayer')} unchecked={}>
                      <label>Transit</label>
                    </div>
                  </div>
                </div>
              </div>
          </div>
    </div>

  <div class="ui two column grid">
    <div class="column" id="scrolling" onscroll="loadmore()" style="position:absolute;width:27%;margin-top:7%;margin-left: 0.5%;overflow-x: hidden; overflow-y: scroll; height:75%">
      <div id="estates" class="ui left aligned grid" style="width:544px;float: left">
      </div>
    </div>

    <div class="column " id="map" style="position:absolute;width:52%;margin-top: 7%;margin-left: 28.5%; height:75%"></div>
  </div>
</div>

<div class="modal" id="logInStatus">
     <div class="modal-content animate" action="./searchCity.html" style="width:30%;">
         <form class="ui form">
             <br>
             <center>
                 <h2>Successfully logged in</h2>
             </center>
             <br>
         </form>
     </div>
 </div>

 <div class="modal" id="logInStatusFailed">
     <div class="modal-content animate" action="./searchCity.html" style="width:30%;">
         <form class="ui form">
             <br>
             <center><h2>Incorrect email/password</h2></center>
             <br>
         </form>
     </div>
 </div>

 <div id="loginButton" class="modal">
   <div class="modal-content animate" action="./searchCity.html" style="width:30%;">
     <div class="container">
         <h3 class="ui dividing header">Log in to your account</h3>
         <div class="field" style="width:100%;">
             <div id="errorMessageContainer-login" style="display:none;">
                 <ul>
                     <li id="errorMessage-login"></li>
                 </ul>
             </div>
             <label>Email</label>
               <div id="email-input-login" class="ui fluid input">
                   <input class="ui input" id="email-login" name="email" placeholder="Email" type="text">
               </div>
         </div>
         <br>

         <div class="field" style="width:100%;">
           <label>Password</label>
             <div id="password-input-login" class="ui fluid input">
                 <input class="ui input" id="password-login" name="password" placeholder="Password" type="password">
             </div>
         </div>
         <br>
           <button class="ui fluid blue button" type="submit" value="Submit" onclick="logInPOST()">Log In</button>
     </div>
       <center><h3>Don't have a placeFinder account? <a href="#" onclick="document.getElementById('loginButton').style.display='none'; document.getElementById('signupButton').style.display='block';" >Create one.</a></h3></center> <br>
   </div>
 </div>

    <div class="modal" id="signInStatus">
        <div class="modal-content animate" action="./searchCity.html" style="width:30%;">
            <form class="ui form">
                <h2>Successfully signed in</h2>
            </form>
        </div>
    </div>

    <div class="modal" id="signInStatusFailed">
        <div class="modal-content animate" action="./searchCity.html" style="width:30%;">
            <form class="ui form">
                <h2>Email already existent in data base</h2>
            </form>
        </div>
    </div>

    <div id="signupButton" class="modal">
      <div class="modal-content animate" style="width:30%;">
        <div class="container">
            <h4 class="ui dividing header">Sign up</h4>
            <div class="field" style="width:100%;">
                <div id="errorMessageContainer" style="display:none;">
                    <ul>
                        <li id="errorMessage"></li>
                    </ul>
                </div>
              <label>First Name</label>
                <div id="first-name-input" class="ui fluid input">
                     <input  id="first-name" name="first-name" placeholder="First Name" type="text">
                </div>
            </div>
            <br>
            <div class="field" style="width:100%;">
              <label>Last Name</label>
                <div id="last-name-input" class="ui fluid input">
                    <input id="last-name" name="last-name" placeholder="Last Name" type="text">
                </div>
            </div>
            <br>
            <div class="field" style="width:100%;">
              <label>Email</label>
                <div id="email-input" class="ui fluid input">
                    <input class="ui input" id="email" name="email" placeholder="Email" type="text">
                </div>
            </div>
            <br>
            <div class="field" style="width:100%;">
              <label>Password</label>
                <div id="password-input" class="ui fluid input">
                    <input class="ui input" id="passwordSignUp" name="password" placeholder="Password" type="password">
                </div>
            </div>
            <br>
              <button class="ui fluid blue button" type="submit" value="Submit" onclick="signUpPOST()">Sign Up</button>
              </div>
         </div>
    </div>

    <div id="addPropModal" class="modal">
      <span onclick="document.getElementById('addPropModal').style.display='none'" class="close" title="Close Modal">×</span>
      <form class="modal-content animate" action="./searchCity.html" style="width:30%;">
        <div class="container">
          <form class="ui form">
            <div class="field">
              <label>Name</label>
              <input name="first-name" placeholder="First Name" type="text" >
            </div>
            <div class="field">
              <label>Address</label>
              <input name="address" placeholder="Address" type="text">
            </div>
            <div class="field">
              <label>Description</label>
              <input name="description" placeholder="Description" type="text">
            </div>
            <div class="field">
              <label>Price</label>
              <input name="price" placeholder="Price" type="text">
            </div>
            <div class="field">
              <label>Square ft.</label>
              <input name="sqft" placeholder="Square ft." type="text">
            </div><br>
            <div class="field">
              <label>Rooms</label>
              <input type="number" name="Rooms" min="1" max="5">
            </div><br>
            <form>
              <label>Amenities:</label><br><br>
              <input type="checkbox" name="amenities1" value="Bike"> Water/Sewage <br>
              <input type="checkbox" name="amenities2" value="Bike"> Parking <br>
              <input type="checkbox" name="amenities3" value="Bike"> Stove <br>
              <input type="checkbox" name="amenities4" value="Bike"> Washer/Dryer<br>
              <input type="checkbox" name="amenities5" value="Bike"> Cable TV <br>
              <input type="checkbox" name="amenities6" value="Bike"> Refrigerator <br>
            </form>


            <form method="get" action="./searchCity.html">
              <button class="ui button" type="submit">Submit</button>
            </form>

          </form>
        </div>
      </form>
    </div>


   <!--<div class="example" style="display:none;">-->
     <!--<div id="html5" class="noUi-target noUi-ltr noUi-horizontal" style="width:25%;">-->
       <!--</div>-->
     <!--</div>-->
     <!--<select id="input-select">-->
       <!--<option value="-20">-20</option>-->
       <!--<option value="-19">-19</option>-->
       <!--<option value="-18">-18</option>-->
       <!--<option value="-17">-17</option>-->
       <!--<option value="-16">-16</option>-->
       <!--<option value="-15">-15</option>-->
       <!--<option value="-14">-14</option>-->
       <!--<option value="-13">-13</option>-->
       <!--<option value="-12">-12</option>-->
       <!--<option value="-11">-11</option>-->
       <!--<option value="-10">-10</option>-->
       <!--<option value="-9">-9</option>-->
       <!--<option value="-8">-8</option>-->
       <!--<option value="-7">-7</option>-->
       <!--<option value="-6">-6</option>-->
       <!--<option value="-5">-5</option>-->
       <!--<option value="-4">-4</option>-->
       <!--<option value="-3">-3</option>-->
       <!--<option value="-2">-2</option>-->
       <!--<option value="-1">-1</option>-->
       <!--<option value="0">0</option>-->
       <!--<option value="1">1</option>-->
       <!--<option value="5">5</option>-->
       <!--<option value="6">6</option>-->
       <!--<option value="37">37</option>-->
       <!--<option value="38">38</option>-->
       <!--<option value="39">39</option>-->
       <!--<option value="40">40</option>-->
     <!--</select>-->
     <!--<input min="-20" max="40" step="1" id="input-number" type="number">-->
     </div>


    <script src="searchCity.js">
    </script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAiF0Un_CZtZJXb_az1JsfXQaejuF6iCXk&libraries=places,visualization&callback=initMap">
    </script>
  </body>
</html>
