<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="node_modules/semantic-ui-css/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="node_modules/semantic-ui-css/semantic.css">
    <link rel="stylesheet" href="css/estateDetails.css">
    <link rel="stylesheet" href="css/slideshow.css">
    <link rel="stylesheet" href="css/automaticSlideshow.css">

    <link href="css/jquery-ui-1.10.1.css" rel="stylesheet">
  	<link href="css/nigran.datepicker.css" rel="stylesheet">

    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"></script>
    <script src="node_modules/semantic-ui-css/semantic.min.js"></script>
    <script src="node_modules/semantic-ui-css/semantic.js"></script>
    <script src="js/locations.js"></script>
    <script src="js/slideshow.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.jquery.min.js"></script>
    <link href="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.min.css" rel="stylesheet"/>

    <style>
  		input { /*for the datepicker*/
  			font-size: 1em;
  		}
  	</style>

    <link rel="icon" type="image/png" href="images/place-finder.png">
    <title>PerF</title>
  </head>
  <body style="background-color: lightblue;">


    <div id="top" class="ui massive blue menu" >
      <a href="./homePage.html">
        <img class="ui mini image" style="position:absolute;left: 20%; top:5px;" src="images/place-finder.png">
      </a>

      <a>
        <img class="ui medium image" style="position:absolute;margin-left: 23%;" src="images/logo.png">
      </a>
      <div id="addProperty" >
        <button class="ui inverted blue button" onclick="document.getElementById('addPropModal').style.display='block'">Add property</button>
      </div>
      <div id="signup">
        <button class="ui inverted blue button" onclick="document.getElementById('id01').style.display='block'">Sign up</button>
      </div>
      <div id="login">
        <button class="ui inverted blue button" onclick="document.getElementById('id02').style.display='block'">Log-in</button>
      </div>
    </div>

    <script>
          $(function(){
              var stickyHeaderTop = $('#top').offset().top;

              $(window).scroll(function(){
                          if( $(window).scrollTop() > stickyHeaderTop ) {
                                  $('#top').css({position: 'fixed', top: '0px'});
                                  $('#top').css('width','100%');
                                  $('#top').css('display', 'block');
                                  $('#top').css('z-index','999999');
                          } else {
                                  $('#top').css({position: 'static', top: '0px'});
                          }
                  });
        });
    </script>
  <div id="backToTop" class="ui raised container segment" style="position:absolute;width:60%;height: 220%; left:10%; right:10%; background: #f1f1f2;z-index: 9; ">
      <div class="ui borderless blue inverted menu" style="margin-top:-1.5%;margin-left:-1.5%;margin-right:-1.5%;">
        <div class="item">
            <button class="ui inverted white button" type="submit" onclick="getBack()"><i class="chevron circle left icon"></i>Back to search</button>

          <script>
            function getBack(){
              window.location = "./searchCity.html";
            }
          </script>
        </div>
      </div>
      <div>
        <div>
          <div>
            <div class="ui image label" style="background-color: #f1f1f2;">
              <a href="homePage.html">
                <h5 class="ui header">Home</h5>
              </a>
            </div>
            <i class="chevron circle right icon"></i>
            <div class="ui image label" style="background-color:  #f1f1f2;">
              <h4 class="ui header">Estate address</h4>
            </div>
            <i class="chevron circle right icon"></i>
            <div class="ui image label" style="background-color:  #f1f1f2;">
              <h4 class="ui header">Current estate</h4>
            </div>
          </div>
          <div>
            <div class="ui image label" style="background-color:#f1f1f2;">
              <h1 class="ui header">Address</h1>
            </div>
          </div>
          <div>
            <div class="ui image label" style="background-color:  #f1f1f2;">
              <h4 class="ui header">Address, City, ZIP Code</h4>
            </div>
          </div>
          <div>
            <div class="ui image label" style="background-color: #f1f1f2;">
              <h2 class="ui header">Price: </h2>
            </div>
            <div class="ui image label" style="background-color: #f1f1f2;">
              <h3 class="ui header"><i class="euro icon"></i></h3>
            </div>
            <div class="ui image label" style="background-color:#f1f1f2;">
              <h4 class="ui header"> number of rooms, surface, contact number</h4>
            </div>
          </div>
        </div>
      </div>
      <div style="width:50%; height: 20%;">
        <div class="slideshow-container" style="background-color:#DCDCDC; width:75%;">
        <div class="mySlides fade" style="display: initial;">
         <div class="numbertext">1 / 3</div>
         <img src="images/house-example.png" style="width:100%">
         <div class="text">1 / 3</div>
        </div>

        <div class="mySlides fade" style="background-color:#DCDCDC">
         <div class="numbertext">2 / 3</div>
         <img src="images/house-example.png" style="width:100%">
         <div class="text">2 / 3 </div>
        </div>

        <div class="mySlides fade">
         <div class="numbertext">3 / 3</div>
         <img src="images/house-example.png" style="width:100%">
         <div class="text">3 / 3 </div>
        </div>

        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
        </div>
        <div class="ui raised  very padded  segment" style="position:absolute;margin-top:0%; margin-left: 48%; width:50%; height: 17%;">
          <div class="lead-form-header pdp-lead-header" style="margin-top:-4%;">
            <h3>Contact this property</h3>
            <div class="lead-form-contact-callout">Call
               <strong class="tel">(844) 563-8113</strong>
                or send an email
              </div>
            </div>
          <div class="ui raised inverted segment" style="background-color: #c2e2e8;position:absolute; width: 90%;height: 70%;">
            <div class="ui inverted form">
              <div class="field">
                    <label>Move-in:</label>
                <article>
                  <div class="ui mini input">
                    <input type="text" id="date-picker-input-1" style="width:100%;"/>
                  </div>
                </article>
                <script src="js/jquery-1.9.1.js"> </script>
                <script src="js/jquery-ui-1.10.1.min.js"></script>
                <script>
                  $(function() {
                    $( "#date-picker-input-1" ).datepicker({
                      inline: true,
                      showOtherMonths: true
                    })
                    .datepicker('widget').wrap('<div class="ll-skin-nigran"/>');
                  });
                </script>
              </div>
            </div>
            <label>From: </label>
              <div class="field">
                <div class="ui small fluid input field">
                  <input placeholder="Name" type="text">
                </div>
              </div>

              <div class="field" style="margin-top:1.5%;">
                <div class="ui small fluid input field">
                  <input placeholder="Email address" type="text">
                </div>
              </div>
              <div class="ui small fluid input field" style="margin-top:1.5%;">
                <input placeholder="Phone" type="text">
              </div>
              <div class="ui fluid primary submit button" style="margin-top:1.5%;">Send</div>
          </div>
          </div>

        </div>
        <div class="ui raised padded  segment" style="background-color: white;position:absolute; margin-left:0%;margin-top:0%; width: 97%;height:40px;">
          <div class="ui three column grid" style="margin-top:-2%;">
            <div class="column">
              <a id="propertiesA" href="#propertiesA" style="margin-left:25%;font-family:ProximaNova, sans-serif;font-size:15px; font-weight: bold;">Property details</a>
            </div>
            <div class="ui small vertical divider" style="position:relative; ">
            </div>
            <div class="column">
              <a id="neighbourhoodA" href="#neighbourhood" style="margin-left:27%;font-family:ProximaNova, sans-serif;font-size:15px; font-weight: bold;">Neighbourhood info</a>
            </div>

            <div class="column">
              <a id="utilitiesA" href="" style="margin-left:40%;font-family:ProximaNova, sans-serif;font-size:15px; font-weight: bold;">Utilities</a>
            </div>
          </div>
        </div>

          <div id="properties" class="ui segments" style="background-color: white;position:absolute; margin-left:0%;margin-top:5%; width: 97%;height: 25%;">
              <div class="ui blue segment">
                <a href="#properties" style="font-family:ProximaNova, sans-serif;font-size:20px; font-weight: bold;">Property details</a>
                <a id="backToTheTop" href="#backToTop" style="font-family:ProximaNova, sans-serif;font-size:15px; font-weight: bold;margin-left:75%;">back to the top</a>
              </div>
              <div class="ui gray left segment">
                <p>38 Maryland Avenue #3 - 38 Maryland Avenue #3</p>
                <p>Annapolis, MD 21401</p>
                <p>This 2 bedroom 3rd floor apartment in Downtown Annapolis is quite the charmer! Very spacious with great windows for natural lighting and
                   pleasing interior brick wall designs. Secure building and has available parking. Walking distance to many unique shops and eateries!</p>
                <p>STATUS: Available March 15, 2017</p>
                <p>PROPERTY DETAILS:</p>
                <p>Bedrooms: 2 </p>
                <p>Baths: 1</p>
                <p>Heat: Gas</p>
                <p>Cooling: Central </p>
                <p>Amenities:</p>
                <ul>
                  <li>Water/Trash/Sewage included</li>
                  <li>Secure Building </li>
                  <li>Parking Space </li>
                  <li>Refrigerator</li>
                  <li>Stove</li>
                  <li>Washer/Dryer</li>
                  <li>Walking Distance to Main Street</li>
                </ul>

              </div>
          </div>



      <div id="neighbourhood" class="ui segments" style="background-color: white;position:absolute; margin-left:0%;margin-top:60%; width: 97%;height: 25%;">
              <div class="ui blue segment">
                <a href="#properties" style="font-family:ProximaNova, sans-serif;font-size:20px; font-weight: bold;">Neighbourhood</a>
                <a href="#backToTop" style="font-family:ProximaNova, sans-serif;font-size:15px; font-weight: bold;margin-left:75%;">back to the top</a>
              </div>
              <div class="ui gray left segment">

              </div>
              <div id="map2" ></div>
      </div>

      <div class="slider" id="main-slider" style="display:none;"><!-- outermost container element -->
          <div class="slider-wrapper"><!-- innermost wrapper element -->
              <img src="http://lorempixel.com/1024/400/animals" alt="First" class="slide" /><!-- slides -->
              <img src="http://lorempixel.com/1024/400/business" alt="Second" class="slide" />
              <img src="http://lorempixel.com/1024/400/city" alt="Third" class="slide" />
          </div>
      </div>

  </div>





      </div>
      <div style="text-align:left; position:relative; margin-top:-7%; margin-left: 19%;">
        <span class="dot" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
      </div>
    </div>


      <script>
        var globalMap2;
        var markerGlobal;
        var trafficLayer;
        var transitLayer;
        var geocoder;
        var smogMarkersArray = [];
        function initMap2() {
          console.log("initMap2");
          var iasi = {lat: 47.133134, lng: 27.567465};
          geocoder = new google.maps.Geocoder();
          var map2 = new google.maps.Map(document.getElementById('map2'), {
            zoom: 6,
            center: iasi
          });
          globalMap2 = map2;
          var image = 'images/pollution-marker.png';
          var icon = {
            url: "images/pollution-marker.png", // url
            scaledSize: new google.maps.Size(40, 40), // scaled size
            origin: new google.maps.Point(0,0), // origin
            anchor: new google.maps.Point(0, 0) // anchor
          };
          var marker = new google.maps.Marker({
            position: iasi,
            map: map2,
            title: "Click here to zoom",
            icon: icon
          });
          markerGlobal = marker;

          var infoWindow = new google.maps.InfoWindow({
            content: '<select><option value="volvo">Volvo</option><option value="saab">Saab</option><option value="audi">Audi</option></select>'
          })

          var infoWindowOnMouseover = new google.maps.InfoWindow({
            content: '<div popup  data-tooltip="Add users to your feed" data-position="top center"> My fav house </div>'
          })

          marker.addListener('click',function(){
            console.log('click'),
            map2.setCenter(marker.getPosition()),
            document.getElementById('myButton').style.display = 'initial';
         })
          marker.addListener('mouseover',function(){
            map2.setCenter(marker.getPosition()),
            infoWindowOnMouseover.open(map,marker)

          })
          google.maps.event.addListener(marker, 'mouseout', function () {
              infoWindowOnMouseover.close();
          });
         trafficLayer = new google.maps.TrafficLayer();
         transitLayer = new google.maps.TransitLayer();
        }
        function changeOverlay(id){
          if(document.getElementById(id).checked) {
            addOverlay(id);
          } else {
            removeOverlay(id);
          }
        }
        function removeOverlay(id) {
          if(id == 'trafficLayer'){
            trafficLayer.setMap(null);
          } else {
            if (id == 'transitLayer'){
              transitLayer.setMap(null);
            } else {
              if (id == 'smogLayer'){
                var marker, i;
                for (i in smogMarkersArray) {
                  smogMarkersArray[i]['marker'].setMap(null);
                  smogMarkersArray[i]['circle'].setMap(null);
                  delete smogMarkersArray[i];
                  //smogMarkersArray.splice(i, 1);
                }
              }
            }
          }
       }
       function addOverlay(id) {
         if(id == 'trafficLayer'){
           trafficLayer.setMap(globalMap2);
         }else {
           if (id == 'transitLayer'){
             transitLayer.setMap(globalMap);
           } else {
             if (id == 'smogLayer'){
               var icon = {
                 url: "images/pollution-marker.png", // url
                 scaledSize: new google.maps.Size(40, 40), // scaled size
                 origin: new google.maps.Point(0,0), // origin
                 anchor: new google.maps.Point(0, 0) // anchor
               };
               var marker, i;
               for (i = 0; i < smogLocations.length; i++) {
                 marker = new google.maps.Marker({
                   position: new google.maps.LatLng(smogLocations[i][0], smogLocations[i][1]),
                   map: globalMap,
                   icon: icon
                 });
                 var cityCircle = new google.maps.Circle({
                   strokeColor: '#808080',
                   strokeOpacity: 0.8,
                   strokeWeight: 2,
                   fillColor: '#808080',
                   fillOpacity: 0.35,
                   map: globalMap,
                   center: marker.position,
                   radius: 100
                   });
                   smogMarkersArray[i] = {marker: marker, circle: cityCircle};
                 }
                 console.log(smogMarkersArray);
             }
           }
         }
        }

        function codeAddress() {
          var address = document.getElementById('address').value;
          geocoder.geocode( { 'address': address}, function(results, status) {
            if (status == 'OK') {
              globalMap.setCenter(results[0].geometry.location);
              var marker = new google.maps.Marker({
                map: globalMap,
                position: results[0].geometry.location
              });
            } else {
              alert('Geocode was not successful for the following reason: ' + status);
            }
          });
        }

        function addLayerOnPadding() {
          var selectLayer = document.getElementById('layer');
          var layer_id = selectLayer.options[selectLayer.selectedIndex].value;

        }


      </script>

      <script>
        $('#propertiesA').click(function(){
            $('html, body').animate({
                scrollTop: $( $(this).attr('href') ).offset().top
            }, 500);
            return false;
        });
        $('#neighbourhoodA').click(function(){
            $('html, body').animate({
                scrollTop: $( $(this).attr('href') ).offset().top
            }, 500);
            return false;
        });
        $('#utilitiesA').click(function(){
            $('html, body').animate({
                scrollTop: $( $(this).attr('href') ).offset().top
            }, 500);
            return false;
        });
        $('#backToTheTop').click(function(){
            $('html, body').animate({
                scrollTop: $( $(this).attr('href') ).offset().top
            }, 500);
            return false;
        });
      </script>

      <script async defer
       src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCzIgiHa5eWqPLvnoX7pS75GHTZffQo61k&callback=initMap2">
       </script>

        <script src="js/automaticSlideshow.js"></script>
    </body>
  </html>
